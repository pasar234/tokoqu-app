<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stok Pintar Manajemen</title>
    <link rel="manifest" href="manifest.json">
    <style>
        body { font-family: sans-serif; padding: 20px; background: #f4f7f6; }
        .card { background: white; padding: 15px; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); margin-bottom: 20px; }
        .nav-tabs { display: flex; gap: 10px; margin-bottom: 20px; overflow-x: auto; }
        .tab { padding: 10px 20px; background: #ddd; border-radius: 5px; cursor: pointer; white-space: nowrap; }
        .tab.active { background: #2563eb; color: white; }
        input, select, button { width: 100%; padding: 10px; margin: 5px 0; border-radius: 5px; border: 1px solid #ccc; box-sizing: border-box; }
        .btn-save { background: #2563eb; color: white; font-weight: bold; cursor: pointer; }
        .btn-backup { background: #1f2937; color: white; margin-top: 10px; }
        .btn-restore { background: #f97316; color: white; }
    </style>
</head>
<body>

    <h2 style="color: #2563eb; text-align: center;">Manajemen Produk</h2>

    <div class="nav-tabs">
        <div class="tab active" onclick="filterKat('NARITA')">NARITA</div>
        <div class="tab" onclick="filterKat('VR')">VR</div>
        <div class="tab" onclick="filterKat('KUDUS')">KUDUS</div>
        <div class="tab" onclick="filterKat('LAIN')">LAIN LAIN</div>
    </div>

    <div class="card">
        <h3>TAMBAH PRODUK</h3>
        <input type="text" id="kode" placeholder="Kode Produk">
        <input type="text" id="nama" placeholder="Nama Produk">
        <div style="display: flex; gap: 10px;">
            <input type="number" id="hargaBeli" placeholder="Dasar">
            <input type="number" id="hargaJual" placeholder="Harga Jual">
        </div>
        <select id="kategori">
            <option value="NARITA">NARITA</option>
            <option value="VR">VR</option>
            <option value="KUDUS">KUDUS</option>
            <option value="LAIN">LAIN LAIN</option>
        </select>
        <button class="btn-save" onclick="simpanProduk()">SIMPAN PRODUK</button>
    </div>

    <div class="card">
        <h3>PENCADANGAN DATA</h3>
        <button class="btn-backup" onclick="exportData()">DOWNLOAD BACKUP (.json)</button>
        <input type="file" id="importFile" style="display:none" onchange="importData(event)">
        <button class="btn-restore" onclick="document.getElementById('importFile').click()">PILIH FILE BACKUP</button>
    </div>

    <script>
        // Logika sederhana untuk simpan ke LocalStorage
        function simpanProduk() {
            const data = {
                kode: document.getElementById('kode').value,
                nama: document.getElementById('nama').value,
                beli: document.getElementById('hargaBeli').value,
                jual: document.getElementById('hargaJual').value,
                kat: document.getElementById('kategori').value
            };
            let list = JSON.parse(localStorage.getItem('stok_data')) || [];
            list.push(data);
            localStorage.setItem('stok_data', JSON.stringify(list));
            alert('Produk Berhasil Disimpan!');
        }

        // Fitur Backup
        function exportData() {
            const data = localStorage.getItem('stok_data');
            const blob = new Blob([data], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'backup_stok.json';
            a.click();
        }

        // Fitur Restore
        function importData(event) {
            const reader = new FileReader();
            reader.onload = function() {
                localStorage.setItem('stok_data', reader.result);
                alert('Data Berhasil Dipulihkan!');
                location.reload();
            };
            reader.readAsText(event.target.files[0]);
        }
    </script>
</body>
</html>
